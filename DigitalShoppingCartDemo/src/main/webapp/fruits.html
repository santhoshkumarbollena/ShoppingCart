<!DOCTYPE html>
<html ng-app="myModule" ng-controller="myController">
<head>
<meta charset="ISO-8859-1">
<title>Fruits</title>
<link rel="stylesheet" type="text/css" href="SubPagesStyle.css">
<script src="angular.js"></script>
<script src="Header.js"></script>
    <script src="angular-cookies.js"></script>

<script type="text/javascript">
var app=angular.module("myModule",['ngCookies']);

app.controller("myController",function($scope,$http,$window,$cookies){
	$scope.log=$cookies.get("LoggedIn");
	if($scope.log=="true"){
		$scope.logo=true;
	}
	else{
		$scope.logo=false;
	}
	$scope.user=$cookies.get("Customer");
	//$scope.log=false;
	//$window.alert($scope.log);
	$scope.avalabilityOf={
			apple:'',
			banana:'',
			cherry:'',
			custurdapple:'',
			greenapple:'',
			orange:'',
			guava:'',
			popaya:'',
			strawberry:''
	};
	
	$scope.cheakavalability=function()
	{
		$http({
			method:'GET',
			url:'http://localhost:8080/DigitalShoppingCartDemo/webresources/ResourceForAll/fruitscheakavalability'
		}).then(function(response){
			$scope.avalabilityOf=response.data;
			$scope.len=$scope.avalabilityOf.length;
			//$window.alert($scope.avalabilityOf);
		});
	}
	$scope.GettingPrice=function(){
		var product="fruits";
		$http({
			method :'GET',
			url : 'http://localhost:8080/DigitalShoppingCartDemo/webresources/ResourceForAll/GetCategoryPrice/'+product
			
		}).then(function (response)
				{
			$scope.Price=response.data;
			//$window.alert($scope.Price);
				});
	}

});
</script>
</head>
<body>
	<div class="Wrapper">		
			<header ng-include="'Header.html'"></header>
			
		</div>
		<div ng-init="GettingPrice()"></div>
		<div class="content" ng-init="cheakavalability()">
			<div class="gallery" ng-if="avalabilityOf[0]=='true'">
				<a href="Cherry.html"><img alt="cherry" src="project images/fruits/cherry.jpg"></a>
				<div class="desc"><p>Cherry</p>
				Price:{{Price[0]}}</div>
			</div>
			
			<div class="gallery" ng-if="avalabilityOf[1]=='true'">
				<a href="Banana.html"><img alt="banana" src="project images/fruits/banana.jpg"></a>
				<div class="desc"><p>Banana</p>
				Price:{{Price[1]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[2]=='true'">
				<a href="Apple.html"><img alt="apple" src="project images/fruits/apple.jpg"></a>
				<div class="desc"><p>Apple</p>
				Price:{{Price[2]}}
				</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[3]=='true'">
				<a href="CusturdApple.html"><img alt="custurdapple" src="project images/fruits/custurdapple.jpg"></a>
				<div class="desc"><p>Custurd apple</p>
				Price:{{Price[3]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[4]=='true'">
				<a href="GreenApple.html"><img alt="green apple" src="project images/fruits/greenapple.jpg"></a>
				<div class="desc"><p>Green apple</p>
				Price:{{Price[4]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[5]=='true'">
				<a href="Orange.html"><img alt="orange" src="project images/fruits/orange.jpg"></a>
				<div class="desc"><p>Orange</p>
				Price:{{Price[5]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[6]=='true'">
				<a href="Guava.html"><img alt="guava" src="project images/fruits/guava.jpg"></a>
				<div class="desc"><p>Guava</p>
				Price:{{Price[6]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[7]=='true'">
				<a href="Popaya.html"><img alt="popaya" src="project images/fruits/popaya.jpg"></a>
				<div class="desc"><p>Popaya</p>
				Price:{{Price[7]}}</div>
			</div>
			<div class="gallery" ng-if="avalabilityOf[8]=='true'">
				<a href="Strawberry.html"><img alt="stawberrys" src="project images/fruits/stawberrys.jpg"></a>
				<div class="desc"><p>Strawberyys</p>
				Price:{{Price[8]}}</div>
			</div>
			
		</div>
		
		
		<footer ng-include="'Footer.html'"></footer>
	</div>
	
	

</body>
</html>